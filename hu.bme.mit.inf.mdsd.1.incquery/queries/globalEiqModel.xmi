<?xml version="1.0" encoding="ASCII"?>
<eMFPatternLanguage:PatternModel xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:eMFPatternLanguage="http://www.eclipse.org/viatra2/patternlanguage/EMFPatternLanguage" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:patternLanguage="http://www.eclipse.org/viatra2/patternlanguage/core/PatternLanguage">
  <patterns name="derived.goals" fileName="platform:/resource/hu.bme.mit.inf.mdsd.1.incquery/src/derived/derived.eiq">
    <annotations name="DerivedFeature"/>
    <parameters name="team">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://model/1.0#//Team"/>
      </type>
    </parameters>
    <parameters name="event">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://model/1.0#//Event"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//Team"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://model/1.0#//Team/match"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://model/1.0#//Match/events"/>
              </type>
            </tail>
          </tail>
          <src var="team"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="event"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//Event"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://model/1.0#//Event/type"/>
            </type>
          </tail>
          <src var="event"/>
          <dst xsi:type="eMFPatternLanguage:EnumValue">
            <literal href="http://model/1.0#//EventType/Goal"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="derived.cards" fileName="platform:/resource/hu.bme.mit.inf.mdsd.1.incquery/src/derived/derived.eiq">
    <annotations name="DerivedFeature"/>
    <parameters name="team">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://model/1.0#//Team"/>
      </type>
    </parameters>
    <parameters name="event">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://model/1.0#//Event"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//Team"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://model/1.0#//Team/match"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://model/1.0#//Match/events"/>
              </type>
            </tail>
          </tail>
          <src var="team"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="event"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//Event"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://model/1.0#//Event/type"/>
            </type>
          </tail>
          <src var="event"/>
          <dst xsi:type="eMFPatternLanguage:EnumValue">
            <literal href="http://model/1.0#//EventType/RedCard"/>
          </dst>
        </head>
      </constraints>
    </bodies>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//Team"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://model/1.0#//Team/match"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://model/1.0#//Match/events"/>
              </type>
            </tail>
          </tail>
          <src var="team"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="event"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//Event"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://model/1.0#//Event/type"/>
            </type>
          </tail>
          <src var="event"/>
          <dst xsi:type="eMFPatternLanguage:EnumValue">
            <literal href="http://model/1.0#//EventType/RedCardWithBan"/>
          </dst>
        </head>
      </constraints>
    </bodies>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//Team"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://model/1.0#//Team/match"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://model/1.0#//Match/events"/>
              </type>
            </tail>
          </tail>
          <src var="team"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="event"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//Event"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://model/1.0#//Event/type"/>
            </type>
          </tail>
          <src var="event"/>
          <dst xsi:type="eMFPatternLanguage:EnumValue">
            <literal href="http://model/1.0#//EventType/YellowCard"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="derived.redBans" fileName="platform:/resource/hu.bme.mit.inf.mdsd.1.incquery/src/derived/derived.eiq">
    <annotations name="DerivedFeature"/>
    <parameters name="team">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://model/1.0#//Team"/>
      </type>
    </parameters>
    <parameters name="event">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://model/1.0#//Event"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//Team"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://model/1.0#//Team/match"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://model/1.0#//Match/events"/>
              </type>
            </tail>
          </tail>
          <src var="team"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="event"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//Event"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://model/1.0#//Event/type"/>
            </type>
          </tail>
          <src var="event"/>
          <dst xsi:type="eMFPatternLanguage:EnumValue">
            <literal href="http://model/1.0#//EventType/RedCardWithBan"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="derived.goalCount" fileName="platform:/resource/hu.bme.mit.inf.mdsd.1.incquery/src/derived/derived.eiq">
    <annotations name="DerivedFeature"/>
    <parameters name="team">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://model/1.0#//Team"/>
      </type>
    </parameters>
    <parameters name="target">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="target"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:AggregatedValue">
          <aggregator xsi:type="patternLanguage:CountAggregator"/>
          <call patternRef="//@patterns.0">
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="team"/>
            </parameters>
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="_"/>
            </parameters>
          </call>
        </rightOperand>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="derived.isSentOff" fileName="platform:/resource/hu.bme.mit.inf.mdsd.1.incquery/src/derived/derived.eiq">
    <annotations name="DerivedFeature"/>
    <parameters name="teamMember">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://model/1.0#//TeamMember"/>
      </type>
    </parameters>
    <parameters name="target">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="M"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:AggregatedValue">
          <aggregator xsi:type="patternLanguage:CountAggregator"/>
          <call patternRef="//@patterns.5">
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="teamMember"/>
            </parameters>
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="_"/>
            </parameters>
          </call>
        </rightOperand>
      </constraints>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="M"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:IntValue"/>
      </constraints>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="target"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:BoolValue"/>
      </constraints>
    </bodies>
    <bodies>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="M"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:AggregatedValue">
          <aggregator xsi:type="patternLanguage:CountAggregator"/>
          <call patternRef="//@patterns.5">
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="teamMember"/>
            </parameters>
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="_"/>
            </parameters>
          </call>
        </rightOperand>
      </constraints>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="M"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:IntValue" value="1"/>
      </constraints>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="target"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:BoolValue" value="true"/>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="derived.redCardsOfPlayer" fileName="platform:/resource/hu.bme.mit.inf.mdsd.1.incquery/src/derived/derived.eiq">
    <modifiers private="true"/>
    <parameters name="teamMember">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://model/1.0#//TeamMember"/>
      </type>
    </parameters>
    <parameters name="event">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://model/1.0#//Event"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//TeamMember"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://model/1.0#//TeamMember/team"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://model/1.0#//Team/match"/>
              </type>
              <tail>
                <type xsi:type="eMFPatternLanguage:ReferenceType">
                  <refname xsi:type="ecore:EReference" href="http://model/1.0#//Match/events"/>
                </type>
              </tail>
            </tail>
          </tail>
          <src var="teamMember"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="event"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//Event"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://model/1.0#//Event/type"/>
            </type>
          </tail>
          <src var="event"/>
          <dst xsi:type="eMFPatternLanguage:EnumValue">
            <literal href="http://model/1.0#//EventType/RedCard"/>
          </dst>
        </head>
      </constraints>
    </bodies>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//TeamMember"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://model/1.0#//TeamMember/team"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://model/1.0#//Team/match"/>
              </type>
              <tail>
                <type xsi:type="eMFPatternLanguage:ReferenceType">
                  <refname xsi:type="ecore:EReference" href="http://model/1.0#//Match/events"/>
                </type>
              </tail>
            </tail>
          </tail>
          <src var="teamMember"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="event"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//Event"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://model/1.0#//Event/type"/>
            </type>
          </tail>
          <src var="event"/>
          <dst xsi:type="eMFPatternLanguage:EnumValue">
            <literal href="http://model/1.0#//EventType/RedCardWithBan"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="derived.hasYellowCard" fileName="platform:/resource/hu.bme.mit.inf.mdsd.1.incquery/src/derived/derived.eiq">
    <annotations name="DerivedFeature"/>
    <parameters name="teamMember">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://model/1.0#//TeamMember"/>
      </type>
    </parameters>
    <parameters name="target">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="M"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:AggregatedValue">
          <aggregator xsi:type="patternLanguage:CountAggregator"/>
          <call patternRef="//@patterns.7">
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="teamMember"/>
            </parameters>
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="_"/>
            </parameters>
          </call>
        </rightOperand>
      </constraints>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="M"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:IntValue"/>
      </constraints>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="target"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:BoolValue"/>
      </constraints>
    </bodies>
    <bodies>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="M"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:AggregatedValue">
          <aggregator xsi:type="patternLanguage:CountAggregator"/>
          <call patternRef="//@patterns.7">
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="teamMember"/>
            </parameters>
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="_"/>
            </parameters>
          </call>
        </rightOperand>
      </constraints>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="M"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:IntValue" value="1"/>
      </constraints>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="target"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:BoolValue" value="true"/>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="derived.yellowCardsOfPlayer" fileName="platform:/resource/hu.bme.mit.inf.mdsd.1.incquery/src/derived/derived.eiq">
    <modifiers private="true"/>
    <parameters name="teamMember">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://model/1.0#//TeamMember"/>
      </type>
    </parameters>
    <parameters name="event">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://model/1.0#//Event"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//TeamMember"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://model/1.0#//TeamMember/team"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://model/1.0#//Team/match"/>
              </type>
              <tail>
                <type xsi:type="eMFPatternLanguage:ReferenceType">
                  <refname xsi:type="ecore:EReference" href="http://model/1.0#//Match/events"/>
                </type>
              </tail>
            </tail>
          </tail>
          <src var="teamMember"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="event"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://model/1.0#//Event"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://model/1.0#//Event/type"/>
            </type>
          </tail>
          <src var="event"/>
          <dst xsi:type="eMFPatternLanguage:EnumValue">
            <literal href="http://model/1.0#//EventType/YellowCard"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <importPackages>
    <ePackage href="http://www.eclipse.org/emf/2002/Ecore#/"/>
  </importPackages>
  <importPackages>
    <ePackage href="http://model/1.0#/"/>
  </importPackages>
</eMFPatternLanguage:PatternModel>
